<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>libdsm: include/bdsm/netbios_ns.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libdsm
   &#160;<span id="projectnumber">0.0.0</span>
   </div>
   <div id="projectbrief">Minimalist and read-only SMB client lib</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_e1634d9b3ca600f7f85c6e273a88c21d.html">bdsm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">netbios_ns.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Netbios name service.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;bdsm/netbios_defs.h&quot;</code><br/>
<code>#include &quot;bdsm/netbios_query.h&quot;</code><br/>
<code>#include &lt;sys/socket.h&gt;</code><br/>
<code>#include &lt;netinet/ip.h&gt;</code><br/>
<code>#include &lt;netinet/udp.h&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnetbios__ns__entry__s.html">netbios_ns_entry_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents an correspondance between an IP address and a Netbios name.  <a href="structnetbios__ns__entry__s.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The netbios name service object.  <a href="structnetbios__ns__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6997c1f2f00b5b432db0ac9769c401ea"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structnetbios__ns__entry__s.html">netbios_ns_entry_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netbios__ns_8h.html#a6997c1f2f00b5b432db0ac9769c401ea">netbios_ns_entry_t</a></td></tr>
<tr class="memdesc:a6997c1f2f00b5b432db0ac9769c401ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents an correspondance between an IP address and a Netbios name.  <a href="#a6997c1f2f00b5b432db0ac9769c401ea">More...</a><br/></td></tr>
<tr class="separator:a6997c1f2f00b5b432db0ac9769c401ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a91c45504747e001178b44a510ef9f2c8"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netbios__ns_8h.html#a91c45504747e001178b44a510ef9f2c8">netbios_ns_entry_name</a> (<a class="el" href="netbios__ns_8h.html#a6997c1f2f00b5b432db0ac9769c401ea">netbios_ns_entry_t</a> *entry)</td></tr>
<tr class="memdesc:a91c45504747e001178b44a510ef9f2c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of the entry referenced by the iterator iter.  <a href="#a91c45504747e001178b44a510ef9f2c8">More...</a><br/></td></tr>
<tr class="separator:a91c45504747e001178b44a510ef9f2c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d6ae6a43ae38611fce4c8d7f63ebd22"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netbios__ns_8h.html#a0d6ae6a43ae38611fce4c8d7f63ebd22">netbios_ns_entry_ip</a> (<a class="el" href="netbios__ns_8h.html#a6997c1f2f00b5b432db0ac9769c401ea">netbios_ns_entry_t</a> *entry)</td></tr>
<tr class="memdesc:a0d6ae6a43ae38611fce4c8d7f63ebd22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the IP address of the correspondance referenced by the iterator.  <a href="#a0d6ae6a43ae38611fce4c8d7f63ebd22">More...</a><br/></td></tr>
<tr class="separator:a0d6ae6a43ae38611fce4c8d7f63ebd22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3feb16ec277db29b77fcc342bfd9b88"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netbios__ns_8h.html#ad3feb16ec277db29b77fcc342bfd9b88">netbios_ns_entry_type</a> (<a class="el" href="netbios__ns_8h.html#a6997c1f2f00b5b432db0ac9769c401ea">netbios_ns_entry_t</a> *entry)</td></tr>
<tr class="memdesc:ad3feb16ec277db29b77fcc342bfd9b88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the type of record.  <a href="#ad3feb16ec277db29b77fcc342bfd9b88">More...</a><br/></td></tr>
<tr class="separator:ad3feb16ec277db29b77fcc342bfd9b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7612fa14b9f7b81b27f414163341478"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netbios__ns_8h.html#af7612fa14b9f7b81b27f414163341478">netbios_ns_new</a> ()</td></tr>
<tr class="memdesc:af7612fa14b9f7b81b27f414163341478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and initialize the Netbios name service client object.  <a href="#af7612fa14b9f7b81b27f414163341478">More...</a><br/></td></tr>
<tr class="separator:af7612fa14b9f7b81b27f414163341478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab395ca9c9e99267011351f4b50772e06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netbios__ns_8h.html#ab395ca9c9e99267011351f4b50772e06">netbios_ns_destroy</a> (<a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *ns)</td></tr>
<tr class="memdesc:ab395ca9c9e99267011351f4b50772e06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the netbios name service object.  <a href="#ab395ca9c9e99267011351f4b50772e06">More...</a><br/></td></tr>
<tr class="separator:ab395ca9c9e99267011351f4b50772e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e3c2361ba5fd044549bd811b8f3b70c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netbios__ns_8h.html#a2e3c2361ba5fd044549bd811b8f3b70c">netbios_ns_resolve</a> (<a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *ns, const char *name, char type, uint32_t *addr)</td></tr>
<tr class="memdesc:a2e3c2361ba5fd044549bd811b8f3b70c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resolve a Netbios name.  <a href="#a2e3c2361ba5fd044549bd811b8f3b70c">More...</a><br/></td></tr>
<tr class="separator:a2e3c2361ba5fd044549bd811b8f3b70c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba1dcc010b77dde6f86e8ac5c95e780"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netbios__ns_8h.html#aeba1dcc010b77dde6f86e8ac5c95e780">netbios_ns_discover</a> (<a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *ns)</td></tr>
<tr class="memdesc:aeba1dcc010b77dde6f86e8ac5c95e780"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to discover all the Netbios/SMB speaking machine on the LAN.  <a href="#aeba1dcc010b77dde6f86e8ac5c95e780">More...</a><br/></td></tr>
<tr class="separator:aeba1dcc010b77dde6f86e8ac5c95e780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c57a5c39f8a34aab815af578c875e0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netbios__ns_8h.html#a8c57a5c39f8a34aab815af578c875e0c">netbios_ns_entry_count</a> (<a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *ns)</td></tr>
<tr class="memdesc:a8c57a5c39f8a34aab815af578c875e0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of entries (know machine) for this name service object.  <a href="#a8c57a5c39f8a34aab815af578c875e0c">More...</a><br/></td></tr>
<tr class="separator:a8c57a5c39f8a34aab815af578c875e0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2d853b181ad7fea32771d3474a5516f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="netbios__ns_8h.html#a6997c1f2f00b5b432db0ac9769c401ea">netbios_ns_entry_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netbios__ns_8h.html#ab2d853b181ad7fea32771d3474a5516f">netbios_ns_entry_at</a> (<a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *ns, int pos)</td></tr>
<tr class="memdesc:ab2d853b181ad7fea32771d3474a5516f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the entry at a certain position in the entry list.  <a href="#ab2d853b181ad7fea32771d3474a5516f">More...</a><br/></td></tr>
<tr class="separator:ab2d853b181ad7fea32771d3474a5516f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac18c2bbe3daf1192f8e3d235544b3b2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netbios__ns_8h.html#aac18c2bbe3daf1192f8e3d235544b3b2">netbios_ns_inverse</a> (<a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *ns, uint32_t ip)</td></tr>
<tr class="memdesc:aac18c2bbe3daf1192f8e3d235544b3b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform an inverse netbios lookup (get name from ip)  <a href="#aac18c2bbe3daf1192f8e3d235544b3b2">More...</a><br/></td></tr>
<tr class="separator:aac18c2bbe3daf1192f8e3d235544b3b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f26722403327126f8a3e4e5324506f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="netbios__ns_8h.html#a22f26722403327126f8a3e4e5324506f">netbios_ns_clear</a> (<a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *ns)</td></tr>
<tr class="memdesc:a22f26722403327126f8a3e4e5324506f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all the existing entries from the name service.  <a href="#a22f26722403327126f8a3e4e5324506f">More...</a><br/></td></tr>
<tr class="separator:a22f26722403327126f8a3e4e5324506f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Netbios name service. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a6997c1f2f00b5b432db0ac9769c401ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structnetbios__ns__entry__s.html">netbios_ns_entry_s</a>                              <a class="el" href="netbios__ns_8h.html#a6997c1f2f00b5b432db0ac9769c401ea">netbios_ns_entry_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents an correspondance between an IP address and a Netbios name. </p>
<p>Consider it as an opaque data structure whose internal layout might change at any time, please use the provided accessors functions </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a22f26722403327126f8a3e4e5324506f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void netbios_ns_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear all the existing entries from the name service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ns</td><td>The nameservice object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab395ca9c9e99267011351f4b50772e06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void netbios_ns_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the netbios name service object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ns</td><td>A pointer on the <a class="el" href="structnetbios__ns__t.html" title="The netbios name service object. ">netbios_ns_t</a> to destroy and deallocate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeba1dcc010b77dde6f86e8ac5c95e780"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int netbios_ns_discover </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to discover all the Netbios/SMB speaking machine on the LAN. </p>
<p>This functions sends a message to '*' Netbios name, and waits for the machine on the LAN to answer. It then performs a reverse lookup on all the ip he received packet from. It stores the results inside of the name service, allowing you to list them</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ns</td><td>The name service object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>It returns 0 in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="ab2d853b181ad7fea32771d3474a5516f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="netbios__ns_8h.html#a6997c1f2f00b5b432db0ac9769c401ea">netbios_ns_entry_t</a>* netbios_ns_entry_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the entry at a certain position in the entry list. </p>
<p>You might want to call discover before-hand if you don't want the lit to be empty. The entry list contains all the record known to the name service (including resolved, reverse resolved and discovered) since the creation of the name service object or the last call to clear</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ns</td><td>The nameservice object. </td></tr>
    <tr><td class="paramname">post</td><td>The index/position of the item to access in the list. Must be &lt; netbios_ns_entry_count(ns) or the pointer returned will be NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to a opaque netbios_ns_entry_t structure </dd></dl>

</div>
</div>
<a class="anchor" id="a8c57a5c39f8a34aab815af578c875e0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int netbios_ns_entry_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the list of entries (know machine) for this name service object. </p>
<p>You might want to call discover before-hand if you don't want the lit to be empty</p>
<dl class="section return"><dt>Returns</dt><dd>The list of entries in the name service. </dd></dl>

</div>
</div>
<a class="anchor" id="a0d6ae6a43ae38611fce4c8d7f63ebd22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t netbios_ns_entry_ip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="netbios__ns_8h.html#a6997c1f2f00b5b432db0ac9769c401ea">netbios_ns_entry_t</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the IP address of the correspondance referenced by the iterator. </p>
<dl class="section return"><dt>Returns</dt><dd>The ip address of this entry, in network byte order. </dd></dl>

</div>
</div>
<a class="anchor" id="a91c45504747e001178b44a510ef9f2c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* netbios_ns_entry_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="netbios__ns_8h.html#a6997c1f2f00b5b432db0ac9769c401ea">netbios_ns_entry_t</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the name of the entry referenced by the iterator iter. </p>
<p>The pointer points to an area of memory owned by the netbios name service</p>
<dl class="section return"><dt>Returns</dt><dd>A null-terminated ASCII string representing the name of a netbios machine. </dd></dl>

</div>
</div>
<a class="anchor" id="ad3feb16ec277db29b77fcc342bfd9b88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char netbios_ns_entry_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="netbios__ns_8h.html#a6997c1f2f00b5b432db0ac9769c401ea">netbios_ns_entry_t</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the type of record. </p>
<dl class="section return"><dt>Returns</dt><dd>The type of netbios record (.ie 0x20 for FileServer, 0 for workstation, etc.) or a value &lt; 0 if the iterator is invalid or an error occured. </dd></dl>

</div>
</div>
<a class="anchor" id="aac18c2bbe3daf1192f8e3d235544b3b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* netbios_ns_inverse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform an inverse netbios lookup (get name from ip) </p>
<p>This function does a NBSTAT and stores all the returned entry in the internal list of entries. It returns one of the name found. (Normally the &lt;20&gt; or &lt;0&gt; name)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ns</td><td>The name service object. </td></tr>
    <tr><td class="paramname">ip</td><td>The ip address in network byte order.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A null-terminated ASCII string containing the NETBIOS name. You don't own the it (it'll be freed when destroying/clearing the name service) </dd></dl>

</div>
</div>
<a class="anchor" id="af7612fa14b9f7b81b27f414163341478"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a>* netbios_ns_new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate and initialize the Netbios name service client object. </p>
<dl class="section return"><dt>Returns</dt><dd>A newly allocated <a class="el" href="structnetbios__ns__t.html" title="The netbios name service object. ">netbios_ns_t</a> ready for querying. Deallocate with <a class="el" href="netbios__ns_8h.html#ab395ca9c9e99267011351f4b50772e06" title="Destroy the netbios name service object. ">netbios_ns_destroy()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a2e3c2361ba5fd044549bd811b8f3b70c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int netbios_ns_resolve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetbios__ns__t.html">netbios_ns_t</a> *&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resolve a Netbios name. </p>
<p>This function tries to resolves the given NetBIOS name with the given type on the LAN, using broadcast queries. No WINS server is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ns</td><td>the netbios name service object. </td></tr>
    <tr><td class="paramname">name</td><td>the null-terminated ASCII netbios name to resolve. If it's longer than 15 chars, it'll be truncated. </td></tr>
    <tr><td class="paramname">type</td><td>The type of the name to look for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>netbios_defs.h </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">addr</td><td>The IP address in network byte order of the machine if found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the ipv4 address in network byte-order or 0 if it wasn't successfull. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 25 2014 11:26:00 for libdsm by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
